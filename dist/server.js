!function(e){function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}var t={};r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},r.p="/",r(r.s=11)}([function(e,r){e.exports=require("react")},function(e,r){e.exports=require("react-redux")},function(e,r){e.exports=require("@fortawesome/react-fontawesome")},function(e,r){e.exports=require("dotenv")},function(e,r){e.exports=require("cassandra-driver")},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.fetchReviews=function(e){return{type:"FETCHING_REVIEWS",params:e}},r.fetchUserData=function(e){return{type:"FETCHING_USERDATA",id:e}}},function(e,r,t){"use strict";function n(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var o,i=(t(3).config(),t(23)),s=t(4),a=s.types.distance,u=t(4).policies.retry.IdempotenceAwareRetryPolicy,c=t(4).policies.retry.RetryPolicy,l=(t(24),process.env.DB||"yelp_db"),f=process.env.DB_PASSWORD||"";if(console.log("DB CHOICE: ",process.env.DB_CHOICE),"sql"===process.env.DB_CHOICE){var d=process.env.DB_HOST||"127.0.0.1";o=i.createConnection({host:d,user:"root",database:l,password:f}),o.connect(function(e){e?console.log(e):console.log("Connected!")})}else if("cassandra"===process.env.DB_CHOICE){var p,v=process.env.DB_HOST.split(" ")||["127.0.0.1"];o=new s.Client({contactPoints:v,keyspace:l,pooling:{coreConnectionsPerHost:(p={},n(p,a.local,10),n(p,a.remote,10),p)},policies:{retry:new u(new c)}}),o.connect(function(e){if(e)return console.error(e);console.log("Connected to cluster with "+o.hosts.length+" hosts: "+o.hosts.keys()),o.hosts.forEach(function(e){console.log(e.address,e.datacenter,e.rack)})}),o.on("log",function(e,r,t,n){"verbose"!=e&&console.log("cassandra: %s -- %s",e,t)})}e.exports=o},function(e,r){e.exports=require("bluebird")},function(e,r){e.exports=require("redux")},function(e,r){e.exports=require("redux-saga")},function(e,r,t){"use strict";function n(e){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a.default.getReviews(e.params);case 3:return r=t.sent,t.next=6,(0,i.put)({type:"FETCHING_REVIEWS_SUCCESS",data:r});case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,(0,i.put)({type:"FETCHING_REVIEWS_FAILURE"});case 12:case"end":return t.stop()}},u,this,[[0,8]])}function o(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.all)([].concat(l));case 2:case"end":return e.stop()}},c,this)}Object.defineProperty(r,"__esModule",{value:!0});var i=t(43),s=t(44),a=function(e){return e&&e.__esModule?e:{default:e}}(s),u=regeneratorRuntime.mark(n),c=regeneratorRuntime.mark(o),l=[(0,i.takeEvery)("FETCHING_REVIEWS",n)];(0,i.call)(n,{params:{id:"--cjBEbXMI2obtaRHNSFrA"}});r.default=o},function(e,r,t){t(12),e.exports=t(13)},function(e,r){e.exports=require("babel-polyfill")},function(e,r,t){"use strict";t(14);var n=t(15),o=t(16);t(17),t(18);t(3).config().error&&console.log("No .env file found for config");var i=t(19),s=n(),a=process.env.PORT||3004;s.use(o.json()),s.use(o.urlencoded({extended:!1})),s.use(function(e,r,t){r.header("Access-Control-Allow-Origin","*"),r.header("Access-Control-Allow-Headers","Origin, X-Requested-With, Content-Type, Accept"),t()}),s.use("/main/reviews",n.static("./dist")),s.use("/main/reviews/ssr",n.static("./dist")),s.get("/reviews/reviews/:id",i.reviews.get),s.get("/api/reviews/ssr/:id",i.reviews.ssr),s.get("/main/reviews/ssr/:id",i.reviews.ssrService),s.listen(a,function(e){console.log("listening on port "+a)}).on("error",function(e){console.log(e)})},function(e,r){e.exports=require("newrelic")},function(e,r){e.exports=require("express")},function(e,r){e.exports=require("body-parser")},function(e,r){e.exports=require("path")},function(e,r){e.exports=require("morgan")},function(e,r,t){"use strict";var n=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},o=(t(3).config(),t(20),t(21),t("sql"===process.env.DB_CHOICE?22:25)),i=t(26),s=process.env.DB_CHOICE;e.exports={reviews:{get:function(e,r){"sql"===s?o.business.get(e.params.id).then(function(t){o.reviews.get(e.params.id,e.query).then(function(e){r.json(n({},t[0],{pages:e.pages,reviews:e.reviews}))})}).catch(function(e){console.log("oh no db error",e),r.end()}):o.get(e.params.id,e.query).then(function(e){r.json({name:e.name,pages:e.pages,reviews:e.reviews})}).catch(function(e){console.log("oh no db error",e),r.status(404),r.end()})},ssrService:function(e,r){o.get(e.params.id,e.query).then(function(t){i.renderComponents(e.url,t).then(function(e){r.send(i.renderFullpage(e[0],e[1]))}).catch(function(e){console.log("Something went wrong with SSR: ",e)})}).catch(function(e){console.log("oh no db error",e),r.status(404),r.end()})},ssr:function(e,r){o.get(e.params.id,e.query).then(function(t){i.renderComponents(e.url,t).then(function(e){r.send([e[0],JSON.stringify(e[1]).replace(/</g,"\\u003c")])}).catch(function(e){console.log("Something went wrong with SSR: ",e)})}).catch(function(e){console.log("oh no db error",e),r.status(404),r.end()})}}}},function(e,r){e.exports=require("request")},function(e,r){e.exports=require("cheerio")},function(e,r,t){"use strict";var n=t(6),o=t(7);e.exports={business:{get:function(e){return new o(function(r,t){var o="select name from business where id='"+e+"'";n.query(o,function(e,n){e?t(e):r(n)})})}},reviews:{get:function(e,r){return new o(function(t,o){var i="select review.stars, review.date, review.text,\n        review.useful, review.funny, review.cool, user.id as user_id, user.name as user_name,\n        user.review_count as user_reviewcount, user.yelping_since as user_yelping_since,\n        user.useful as user_useful, user.funny as user_funny, user.cool as user_cool,\n        user.fans as user_fans, user.average_stars as user_average_stars, user.pic as user_pic\n        from review inner join user on review.user_id=user.id where business_id='"+e+"'";switch(r.sort_by){case"date_desc":i+=" order by review.date desc";break;case"date_asc":i+=" order by review.date asc";break;case"rating_desc":i+=" order by review.stars desc";break;case"rating_asc":i+=" order by review.stars asc";break;default:i+=" order by year(review.date) desc, (review.useful + review.funny + review.cool) desc"}r.q&&(i="select * from ("+i+") as reviews where reviews.text like '%"+r.q+"%'"),n.query(i,function(e,n){if(e)o(e);else{var i,s=Math.ceil(n.length/20);i=r.start?n.slice(r.start,1*r.start+20):n.slice(0,20),t({pages:new Array(s),reviews:i})}})})}}}},function(e,r){e.exports=require("mysql")},function(e,r){e.exports=require("async")},function(e,r,t){"use strict";var n=t(6),o=t(7);e.exports={get:function(e,r){return new o(function(t,o){var i=e%174566+1,s="SELECT business_id from business where iterator="+i;n.execute(s,function(e,i){e&&console.log(e);var s=i.rows[0].business_id,a="SELECT business_name, stars, date, text,\n        useful, funny, cool, user_id, user_name,\n        review_count as user_reviewcount, yelping_since as user_yelping_since,\n        user_useful, user_funny, user_cool,\n        user_fans, average_stars as user_average_stars, tag as user_pic\n        FROM oneTable \n        WHERE business_id = ? ";a+="ORDER BY useful desc, date desc",r.sort_by||(a+=" limit 20"),n.execute(a,[s],{prepare:!0},function(e,n){if(e)o(e);else{var i=n.rows,s=Math.ceil(i.length/20),a=i.slice();r.sort_by&&a.sort(function(e,t){switch(r.sort_by){case"date_desc":return new Date(t.date).getFullYear()-new Date(e.date).getFullYear();case"date_asc":return new Date(e.date).getFullYear()-new Date(t.date).getFullYear();case"rating_desc":return t.stars-e.stars;case"rating_asc":return e.stars-t.stars;default:return 0}}),a=r.start?a.slice(r.start,1*r.start+20):a.slice(0,20);var u=i[0]?i[0].business_name:"Fish Sticks by the Bay";t({name:u,pages:new Array(s),reviews:a})}})})})},renderSS:function(){}}},function(e,r,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var o=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(r,t,n,o){var i=r&&r.defaultProps,s=arguments.length-3;if(t||0===s||(t={}),t&&i)for(var a in i)void 0===t[a]&&(t[a]=i[a]);else t||(t=i||{});if(1===s)t.children=o;else if(s>1){for(var u=Array(s),c=0;c<s;c++)u[c]=arguments[c+3];t.children=u}return{$$typeof:e,type:r,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}}(),i=t(0),s=(n(i),t(27)),a=t(28),u=n(a),c=t(1),l=(t(8),t(9)),f=(n(l),t(10)),d=n(f),p=t(46),v=n(p),y=t(5),g=(n(y),o(u.default,{}));e.exports={renderComponents:function(e,r){return new Promise(function(t,n){var i=(0,v.default)(e,r),a=o(c.Provider,{store:i},void 0,g);i.runSaga(d.default).done.then(function(){var e=i.getState(),r=(0,s.renderToString)(a);t([r,e])}),i.close()})},renderFullpage:function(e,r){return'\n            <!doctype html>\n            <html lang="en-US">\n                <head>\n                    <meta charset="UTF-8">\n                    <title>Chompy Reviews Module</title>\n                </head>\n                <body>\n                <div id="reviews-module">'+e+"</div>\n                    <script>\n                    window.__REVIEWS_INITIAL_STATE__ = "+JSON.stringify(r).replace(/</g,"\\u003c")+'\n                    <\/script>\n                    <script src="js/bundle.js"><\/script>\n                </body>\n            </html>\n        '}}},function(e,r){e.exports=require("react-dom/server")},function(e,r,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var o=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(r,t,n,o){var i=r&&r.defaultProps,s=arguments.length-3;if(t||0===s||(t={}),t&&i)for(var a in i)void 0===t[a]&&(t[a]=i[a]);else t||(t=i||{});if(1===s)t.children=o;else if(s>1){for(var u=Array(s),c=0;c<s;c++)u[c]=arguments[c+3];t.children=u}return{$$typeof:e,type:r,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}}(),i=t(0),s=(n(i),t(1),t(29)),a=n(s),u=t(30),c=n(u),l=t(34),f=n(l),d=t(35),p=t(2),v=(n(p),t(36)),y=n(v),g=t(37),w=n(g),h=t(38),m=n(h),_=t(39),b=n(_),S=t(40),O=n(S),E=t(41),x=n(E),q=t(42),C=n(q);d.library.add(w.default,m.default,b.default,O.default,x.default,C.default,y.default);var N=o("div",{className:"guinzar-reviews-container"},void 0,o(a.default,{}),o(f.default,{}),o(c.default,{})),k=function(){return N};r.default=k},function(e,r,t){"use strict";function n(e){return{reviews:e.reviews}}Object.defineProperty(r,"__esModule",{value:!0});var o=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(r,t,n,o){var i=r&&r.defaultProps,s=arguments.length-3;if(t||0===s||(t={}),t&&i)for(var a in i)void 0===t[a]&&(t[a]=i[a]);else t||(t=i||{});if(1===s)t.children=o;else if(s>1){for(var u=Array(s),c=0;c<s;c++)u[c]=arguments[c+3];t.children=u}return{$$typeof:e,type:r,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}}(),i=t(0),s=(function(e){e&&e.__esModule}(i),t(1)),a=o("span",{className:"guinzar-red"},void 0,"Recommended Reviews"),u=function(e){var r=e.reviews;return o("div",{className:"guinzar-header"},void 0,a," for ",r.data.name)};r.default=(0,s.connect)(n)(u)},function(e,r,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function i(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!=typeof r&&"function"!=typeof r?e:r}function s(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(e,r):e.__proto__=r)}Object.defineProperty(r,"__esModule",{value:!0});var a=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(r,t,n,o){var i=r&&r.defaultProps,s=arguments.length-3;if(t||0===s||(t={}),t&&i)for(var a in i)void 0===t[a]&&(t[a]=i[a]);else t||(t=i||{});if(1===s)t.children=o;else if(s>1){for(var u=Array(s),c=0;c<s;c++)u[c]=arguments[c+3];t.children=u}return{$$typeof:e,type:r,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}}(),u=function(){function e(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(r,t,n){return t&&e(r.prototype,t),n&&e(r,n),r}}(),c=t(0),l=n(c),f=t(1),d=t(5),p=t(31),v=n(p),y=t(33),g=n(y),w=function(e){function r(e){return o(this,r),i(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e))}return s(r,e),u(r,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return a("div",{},void 0,this.props.reviews.data.reviews?this.props.reviews.data.reviews.map(function(e,r){return a(v.default,{keyVal:r,review:e},r)}):"loading",a("div",{className:"guinzar-pages"},void 0,this.props.reviews.data.pages?this.props.reviews.data.pages.map(function(e,r){return a(g.default,{page:r},r)}):""))}}]),r}(l.default.Component),h=function(e){return{params:e.params,reviews:e.reviews}},m=function(e){return{fetchReviews:function(r){e((0,d.fetchReviews)(r))}}};r.default=(0,f.connect)(h,m)(w)},function(e,r,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function i(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!=typeof r&&"function"!=typeof r?e:r}function s(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(e,r):e.__proto__=r)}Object.defineProperty(r,"__esModule",{value:!0});var a=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(r,t,n,o){var i=r&&r.defaultProps,s=arguments.length-3;if(t||0===s||(t={}),t&&i)for(var a in i)void 0===t[a]&&(t[a]=i[a]);else t||(t=i||{});if(1===s)t.children=o;else if(s>1){for(var u=Array(s),c=0;c<s;c++)u[c]=arguments[c+3];t.children=u}return{$$typeof:e,type:r,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}}(),u=function(){function e(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(r,t,n){return t&&e(r.prototype,t),n&&e(r,n),r}}(),c=t(0),l=n(c),f=t(1),d=t(5),p=t(32),v=n(p),y=t(2),g=n(y),w=a("div",{className:"guinzar-user-picture"},void 0,a("div",{className:"guinzar-user-pic"},void 0)),h=a(g.default,{className:"guinzar-orange-icon",icon:"user"}),m=a(g.default,{className:"guinzar-orange-icon",icon:"lightbulb"}),_=a(g.default,{className:"guinzar-orange-icon",icon:"smile"}),b=a(g.default,{className:"guinzar-orange-icon",icon:"cubes"}),S=a("div",{},void 0),O=function(e){function r(e){o(this,r);var t=i(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e));t.date=new Date(t.props.review.date).toDateString(),t.user_since=new Date(t.props.review.user_yelping_since).toDateString(),t.hearts=[];for(var n=0;n<t.props.review.stars;n++)t.hearts.push(n);return t}return s(r,e),u(r,[{key:"componentDidMount",value:function(){if(this.props.params.q){var e=document.getElementById("guinzar-review-"+this.props.keyVal).textContent(),r=this.props.params.q;r=r.replace(/(\s+)/,"(<[^>]+>)*$1(<[^>]+>)*");var t=new RegExp("("+r+")","gi");e=e.replace(t,"<mark>$1</mark>"),e=e.replace(/(<mark>[^<>]*)((<[^>]+>)+)([^<>]*<\/mark>)/,"$1</mark>$2<mark>$4"),document.getElementById("guinzar-review-"+this.props.keyVal).innerHTML(e)}}},{key:"render",value:function(){return a("div",{className:"guinzar-review-container"},void 0,a("div",{className:"guinzar-user"},void 0,a("div",{className:"guinzar-user-info"},void 0,w,a("div",{className:"guinzar-user-stats"},void 0,a("div",{className:"guinzar-user-name"},void 0,a("a",{className:"guinzar-user-link",href:"https://www.yelp.com/user_details?userid="+this.props.review.user_id},void 0,this.props.review.user_name)),a("div",{className:"guinzar-user-reviewcount guinzar-user-text"},void 0,"Reviews ",this.props.review.user_reviewcount),a("div",{className:"guinzar-user-avgstars guinzar-user-text"},void 0,a(g.default,{className:"guinzar-orange-icon",icon:["fab","gratipay"]})," Avg ",this.props.review.user_average_stars),a("div",{className:"guinzar-user-fans guinzar-user-text"},void 0,h," Fans ",this.props.review.user_fans),a("div",{className:"guinzar-user-text guinzar-user-useful"},void 0,m," Useful ",this.props.review.user_useful),a("div",{className:"guinzar-user-text guinzar-user-funny"},void 0,_," Funny ",this.props.review.user_funny),a("div",{className:"guinzar-user-text guinzar-user-cool"},void 0,b," Cool ",this.props.review.user_cool))),S),a("div",{className:"guinzar-review"},void 0,a("div",{className:"guinzar-review-header"},void 0,a("div",{className:"guinzar-review-hearts"},void 0,this.hearts.map(function(e,r){return a(g.default,{icon:["fab","gratipay"],className:"guinzar-review-heart"},r)})),a("div",{className:"guinzar-review-date"},void 0,this.date)),a("div",{id:"guinzar-review-"+this.props.keyVal,className:"guinzar-review-text"},void 0,this.props.review.text),a("div",{className:"guinzar-review-qualities"},void 0,a(v.default,{quality:["lightbulb",this.props.review.useful,"Useful"]}),a(v.default,{quality:["smile",this.props.review.funny,"Funny"]}),a(v.default,{quality:["cubes",this.props.review.cool,"Cool"]}))))}}]),r}(l.default.Component),E=function(e){return{params:e.params,userData:e.userData}},x=function(e){return{fetchUserData:function(r){e((0,d.fetchUserData)(r))}}};r.default=(0,f.connect)(E,x)(O)},function(e,r,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function i(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!=typeof r&&"function"!=typeof r?e:r}function s(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(e,r):e.__proto__=r)}Object.defineProperty(r,"__esModule",{value:!0});var a=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(r,t,n,o){var i=r&&r.defaultProps,s=arguments.length-3;if(t||0===s||(t={}),t&&i)for(var a in i)void 0===t[a]&&(t[a]=i[a]);else t||(t=i||{});if(1===s)t.children=o;else if(s>1){for(var u=Array(s),c=0;c<s;c++)u[c]=arguments[c+3];t.children=u}return{$$typeof:e,type:r,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}}(),u=function(){function e(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(r,t,n){return t&&e(r.prototype,t),n&&e(r,n),r}}(),c=t(0),l=n(c),f=t(2),d=n(f),p=function(e){function r(e){o(this,r);var t=i(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e));return t.state={clicked:!1},t.clickBtn=t.clickBtn.bind(t),t}return s(r,e),u(r,[{key:"clickBtn",value:function(){this.state.clicked?this.props.quality[1]--:this.props.quality[1]++,this.setState({clicked:!this.state.clicked})}},{key:"render",value:function(){return a("div",{className:"guinzar-review-quality"},void 0,a("button",{className:"guinzar-review-quality-btn",onClick:this.clickBtn,style:this.state.clicked?{backgroundColor:"#fdf400",fontWeight:"bold",color:"#ef4836"}:{}},void 0,a(d.default,{icon:this.props.quality[0]})," "," "+this.props.quality[2]+" "+this.props.quality[1]))}}]),r}(l.default.Component);r.default=p},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(r,t,n,o){var i=r&&r.defaultProps,s=arguments.length-3;if(t||0===s||(t={}),t&&i)for(var a in i)void 0===t[a]&&(t[a]=i[a]);else t||(t=i||{});if(1===s)t.children=o;else if(s>1){for(var u=Array(s),c=0;c<s;c++)u[c]=arguments[c+3];t.children=u}return{$$typeof:e,type:r,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}}(),o=t(0),i=(function(e){e&&e.__esModule}(o),t(1)),s=function(e){var r=e.params,t=e.page;return n("div",{className:"guinzar-page-btn"},void 0,n("a",{href:r.id+"?"+(r.q?"q="+r.q+"&":"")+(r.sort_by?"sort_by="+r.sort_by+"&":"")+"start="+20*t},void 0,t+1))},a=function(e){return{params:e.params}};r.default=(0,i.connect)(a)(s)},function(e,r,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var o=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(r,t,n,o){var i=r&&r.defaultProps,s=arguments.length-3;if(t||0===s||(t={}),t&&i)for(var a in i)void 0===t[a]&&(t[a]=i[a]);else t||(t=i||{});if(1===s)t.children=o;else if(s>1){for(var u=Array(s),c=0;c<s;c++)u[c]=arguments[c+3];t.children=u}return{$$typeof:e,type:r,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}}(),i=t(0),s=n(i),a=t(1),u=t(2),c=n(u),l=o(c.default,{icon:"search"}),f=function(e){var r=e.params,t=void 0,n=function(){document.getElementById("guinzar-myDropdown").classList.toggle("guinzar-show")};"undefined"!=typeof window&&(window.onclick=function(e){if(!e.target.matches(".guinzar-dropbtn")){var r,t=document.getElementsByClassName("guinzar-dropdown-content");for(r=0;r<t.length;r++){var n=t[r];n.classList.contains("guinzar-show")&&n.classList.remove("guinzar-show")}}});var i="Chompy Sort";return r.sort_by&&("date_desc"===r.sort_by?i="Newest First":"date_asc"===r.sort_by?i="Oldest First":"rating_desc"===r.sort_by?i="Highest Rated":"rating_asc"===r.sort_by&&(i="Lowest Rated")),o("div",{className:"guinzar-search-sort"},void 0,o("div",{},void 0,s.default.createElement("input",{className:"guinzar-search-input",ref:function(e){t=e},onKeyPress:function(e){"Enter"==e.key&&(t.value.length&&"undefined"!=typeof window&&(window.location="/"+r.id+"?q="+t.value),t.value="")}}),o("button",{className:"guinzar-search-btn",onClick:function(){t.value.length&&"undefined"!=typeof window&&(window.location="/"+r.id+"?q="+t.value),t.value=""}},void 0,l)),o("div",{},void 0,o("div",{className:"guinzar-dropdown"},void 0,o("button",{onClick:n,className:"guinzar-dropbtn"},void 0,i),o("div",{id:"guinzar-myDropdown",className:"guinzar-dropdown-content"},void 0,o("a",{href:"/"+r.id},void 0,"Chompy Sort"),o("a",{href:"/"+r.id+"?sort_by=date_desc"},void 0,"Newest First"),o("a",{href:"/"+r.id+"?sort_by=date_asc"},void 0,"Oldest First"),o("a",{href:"/"+r.id+"?sort_by=rating_desc"},void 0,"Highest Rated"),o("a",{href:"/"+r.id+"?sort_by=rating_asc"},void 0,"Lowest Rated")))))},d=function(e){return{params:e.params}};r.default=(0,a.connect)(d)(f)},function(e,r){e.exports=require("@fortawesome/fontawesome")},function(e,r){e.exports=require("@fortawesome/fontawesome-free-brands/faGratipay")},function(e,r){e.exports=require("@fortawesome/fontawesome-free-solid/faStickyNote")},function(e,r){e.exports=require("@fortawesome/fontawesome-free-solid/faUser")},function(e,r){e.exports=require("@fortawesome/fontawesome-free-solid/faSearch")},function(e,r){e.exports=require("@fortawesome/fontawesome-free-solid/faLightbulb")},function(e,r){e.exports=require("@fortawesome/fontawesome-free-solid/faSmile")},function(e,r){e.exports=require("@fortawesome/fontawesome-free-solid/faCubes")},function(e,r){e.exports=require("redux-saga/effects")},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t(45),o=function(e){return e&&e.__esModule?e:{default:e}}(n);r.default={getReviews:function(e){return new Promise(function(r,t){var n="/reviews/reviews/"+e.id,i=Object.keys(e);if(i.shift(),i.length){n+="?"+i.map(function(r){return r+"="+e[r]}).join("&")}o.default.get(n).then(function(e){e.data&&r(e.data)}).catch(function(e){console.log(e),t(e)})})},getUserData:function(e){return new Promise(function(r,t){o.default.get("/reviews/user/"+e).then(function(e){e.data&&r(e.data)}).catch(function(e){console.log(e),t(e)})})}}},function(e,r){e.exports=require("axios")},function(e,r,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function i(e){if(Array.isArray(e)){for(var r=0,t=Array(e.length);r<e.length;r++)t[r]=e[r];return t}return Array.from(e)}function s(e,r){var t=(0,u.createStore)(v(e,r),(0,u.applyMiddleware)(p));return p.run(d.default),t.runSaga=p.run,t.close=function(){return t.dispatch(c.END)},t}Object.defineProperty(r,"__esModule",{value:!0});var a=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e};r.default=s;var u=t(8),c=t(9),l=n(c),f=t(10),d=n(f),p=(0,l.default)(),v=function(e,r){var t=function(e,r){switch(r.type){case"ADD_TODO":return{id:r.id,text:r.text,completed:!1};case"TOGGLE_TODO":return e.id!==r.id?e:a({},e,{completed:!e.completed});default:return e}},n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments[1];switch(r.type){case"ADD_TODO":return[].concat(i(e),[t(void 0,r)]);case"TOGGLE_TODO":return e.map(function(e){return t(e,r)});default:return e}},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"SHOW_ALL",r=arguments[1];switch(r.type){case"SET_VISIBILITY_FILTER":return r.filter;default:return e}};if("undefined"!=typeof window)var e=window.location.href.split("/").pop();else e=e.split("/").pop();e=e.split("?");var c={id:e[0]};if(e.length>1){var l=e[1].split("&");c=l.reduce(function(e,r){return r=r.split("="),e[r[0]]=r[1],e},c)}var f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;return arguments[1].type,e},d={data:r,dataFetched:!1,isFetching:!1,error:!1},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,r=arguments[1];switch(r.type){case"FETCHING_REVIEWS":return a({},e,{data:[],isFetching:!0});case"FETCHING_REVIEWS_SUCCESS":return a({},e,{isFetching:!1,data:r.data});case"FETCHING_REVIEWS_FAILURE":return a({},e,{isFetching:!1,error:!0});default:return e}},v={data:{},dataFetched:!1,isFetching:!1,error:!1},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,r=arguments[1];switch(r.type){case"FETCHING_USERDATA":return a({},e,{isFetching:!0});case"FETCHING_USERDATA_SUCCESS":return a({},e,{isFetching:!1,data:a({},e.data,o({},r.id,r.data))});case"FETCHING_USERDATA_FAILURE":return a({},e,{isFetching:!1,error:!0});default:return e}};return(0,u.combineReducers)({todos:n,params:f,visibilityFilter:s,reviews:p,userData:y})}}]);